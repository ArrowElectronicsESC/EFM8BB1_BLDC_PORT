C51 COMPILER V9.53.0.0   TIMERS                                                            01/16/2020 15:23:35 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE TIMERS
OBJECT MODULE PLACED IN .\src\timers.OBJ
COMPILER INVOKED BY: c:\SiliconLabs\SimplicityStudio\v4\developer\toolchains\keil_8051\9.53\BIN\C51.exe C:\Users\A92862\
                    -SimplicityStudio\v4_workspace\EFM8BB1_BLDC_PORT\src\timers.c OMF2 SMALL DEBUG OBJECTEXTEND ROM(LARGE) WARNINGLEVEL(2) FL
                    -OATFUZZY(3) OPTIMIZE(8,SPEED) INTVECTOR(0X0000) INTPROMOTE INCDIR(C:\Users\A92862\SimplicityStudio\v4_workspace\EFM8BB1_
                    -BLDC_PORT\inc;C:\Users\A92862\SimplicityStudio\v4_workspace\EFM8BB1_BLDC_PORT\inc\config;C:/SiliconLabs/SimplicityStudio
                    -/v4/developer/sdks/8051/v4.1.7//kits/common/drivers/efm8_retargetserial;C:/SiliconLabs/SimplicityStudio/v4/developer/sdk
                    -s/8051/v4.1.7//Lib/efm8_assert;C:/SiliconLabs/SimplicityStudio/v4/developer/sdks/8051/v4.1.7//kits/common/bsp;C:/Silicon
                    -Labs/SimplicityStudio/v4/developer/sdks/8051/v4.1.7//kits/EFM8BB1_LCK/config;C:/SiliconLabs/SimplicityStudio/v4/develope
                    -r/sdks/8051/v4.1.7//Device/shared/si8051Base;C:/SiliconLabs/SimplicityStudio/v4/developer/sdks/8051/v4.1.7//Device/EFM8B
                    -B1/inc;C:/SiliconLabs/SimplicityStudio/v4/developer/sdks/8051/v4.1.7//Device/EFM8BB1/peripheral_driver/inc) PRINT(.\src\
                    -timers.lst) COND PAGEWIDTH(120) PAGELENGTH(65) OBJECT(.\src\timers.OBJ)

line level    source

   1          /*
   2           * timers.c
   3           *
   4           *  Created on: Jan 16, 2020
   5           *      Author: a92862
   6           */
   7          
   8          #include "bldcdk.h"
*** WARNING C322 IN LINE 130 OF \Users\A92862\SimplicityStudio\v4_workspace\EFM8BB1_BLDC_PORT\inc\BLDC_RD_Build_Params.h
             -: unknown identifier
   9          
  10          //-----------------------------------------------------------------------------
  11          // Global Constants
  12          //-----------------------------------------------------------------------------
  13          
  14          //-----------------------------------------------------------------------------
  15          // Function Prototypes
  16          //-----------------------------------------------------------------------------
  17          void TMR_delay_timer3(U8 delay_ms);
  18          
  19          //-----------------------------------------------------------------------------
  20          // Global Variables
  21          //-----------------------------------------------------------------------------
  22          
  23          SEG_DATA U8 repeated_timer0;
  24          SEG_DATA U8 timer0_state;
  25          SEG_DATA UU16 timer0_next;
  26          
  27          //-----------------------------------------------------------------------------
  28          // TMR_delay_timer3(delay_ms)
  29          //
  30          // Max 32ms delay
  31          //
  32          // Parameters:
  33          //     delay_ms - number of 1 ms delay.
  34          //
  35          // Description:
  36          //     Polling type delay routine.
  37          //-----------------------------------------------------------------------------
  38          void TMR_delay_timer3(U8 delay_ms)
  39          {
  40   1          // Stop Timer 3
  41   1          TMR3CN0 &= ~0x04;
  42   1      
  43   1          TMR3RLH = ((-(SYSCLK/TIMER3_PRESCALER/1000)) >> 8) & 0xff;
  44   1          TMR3RLL = (-(SYSCLK/TIMER3_PRESCALER/1000)) & 0xff;
  45   1      
C51 COMPILER V9.53.0.0   TIMERS                                                            01/16/2020 15:23:35 PAGE 2   

  46   1          TMR3 = TMR3RL;
  47   1          TMR3CN0 = 0x04;      // Start Timer 3
  48   1          for (; delay_ms > 0; --delay_ms)
  49   1          {
  50   2              while (!(TMR3CN0 & 0x80));   // Wait for overflow
  51   2              TMR3CN0 &= ~0x80;            // Clear the overflow indicator
  52   2          }
  53   1          // Stop Timer 3
  54   1          TMR3CN0 &= ~0x04;
  55   1      }
  56          
  57          
*** WARNING C316 IN LINE 57 OF C:\Users\A92862\SimplicityStudio\v4_workspace\EFM8BB1_BLDC_PORT\src\timers.c: unterminate
             -d conditionals


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     39    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  2 WARNING(S),  0 ERROR(S)
